<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type"><title>getevents</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.45"><link rel="home" href="index.html" title="LiveJournal Server"><link rel="up" href="ljp.csp.xml-rpc.protocol.html" title="XML-RPC Client/Server Protocol Reference"><link rel="previous" href="ljp.csp.xml-rpc.editfriends.html" title="editfriends"><link rel="next" href="ljp.csp.xml-rpc.getfriends.html" title="getfriends"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">getevents</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ljp.csp.xml-rpc.editfriends.html">Prev</a> </td><th width="60%" align="center">XML-RPC Client/Server Protocol Reference</th><td width="20%" align="right"> <a accesskey="n" href="ljp.csp.xml-rpc.getfriends.html">Next</a></td></tr></table><hr></div><div class="refentry"><h1 class="title"><a name="ljp.csp.xml-rpc.getevents"></a>getevents</h1><div class="refnamediv"><h2>Name</h2><p>getevents &#8212; 
Download parts of the user's journal.
</p></div><div class="refsect1"><h2>Mode Description</h2><p>
Given a set of specifications, will return a segment of entries up to a limit set by the server. Has a set of options for less, extra, or special data to be returned.
</p></div><div class="refsect1"><h2>Arguments</h2><div class="orderedlist"><ol type="1"><li><p><span class="emphasis"><i>[struct]</i></span>(required)
Containing keys:
  <div class="itemizedlist"><ul><li><p><span class="bold"><b>username</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
    Username of user logging in.
  </p></li></ul></div></p></li><li><p><span class="bold"><b>password</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
    Password of user logging in in plaintext.  Either this or &quot;hpassword&quot; must be present.
  </p></li></ul></div></p></li><li><p><span class="bold"><b>hpassword</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
    MD5 digest of user's password.  Not much more secure than password, but at least it's not in plain text.
  </p></li></ul></div></p></li><li><p><span class="bold"><b>ver</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
    Protocol version supported by the client; assumed to be 0 if not specified. See <a href="ljp.csp.versions.html" title="Chapter 8. Protocol Versions">Chapter 8</a> for details on the protocol version
  </p></li></ul></div></p></li><li><p><span class="bold"><b>truncate</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
A value that if greater than or equal to 4, truncates the length of the returned events (after being decoded) to the value specified. Entries less than or equal to this length are left untouched. Values greater than this length are truncated to the specified length minus 3, and then have &quot;... &quot; appended to them, bringing the total length back up to what you specified. This is good for populating list boxes where only the beginning of the entry is important, and you'll double-click it to bring up the full entry.
</p></li></ul></div></p></li><li><p><span class="bold"><b>prefersubject</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
If this setting is set to true (1 ), then no subjects are returned, and the events are actually subjects if they exist, or if not, then they're the real events. This is useful when clients display history and need to give the user something to double-click. The subject is shorter and often more informative, so it'd be best to download only this.
</p></li></ul></div></p></li><li><p><span class="bold"><b>noprops</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
If this setting is set to true (1), then no meta-data properties are returned.
</p></li></ul></div></p></li><li><p><span class="bold"><b>selecttype</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
Determines how you want to specify what part of the journal to download. Valid
values are day to download one entire day, lastn to get the most recent n
entries (where n is specified in the howmany field), one to download just one
specific entry, or syncitems to get some number of items (which the server
decides) that have changed since a given time (specified in the lastsync
parameter&gt;). Not that because the server decides what items to send, you may
or may not be getting everything that's changed. You should use the syncitems
selecttype in conjuntions with the syncitems protocol mode.
</p></li></ul></div></p></li><li><p><span class="bold"><b>lastsync</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
For a selecttype of syncitems, the date (in &quot;yyyy-mm-dd hh:mm:ss&quot; format) that you want to get updates since.
</p></li></ul></div></p></li><li><p><span class="bold"><b>year</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
For a selecttype of day, the 4-digit year of events you want to retrieve.
</p></li></ul></div></p></li><li><p><span class="bold"><b>month</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
For a selecttype of day, the 1- or 2-digit month of events you want to retrieve.
</p></li></ul></div></p></li><li><p><span class="bold"><b>day</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
For a selecttype of day, the 1- or 2-digit day of the month of events you want to retrieve.
</p></li></ul></div></p></li><li><p><span class="bold"><b>howmany</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
For a selecttype of lastn, how many entries to get. Defaults to 20. Maximum is 50.
</p></li></ul></div></p></li><li><p><span class="bold"><b>beforedate</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
For a selecttype of lastn, you can optionally include this variable and restrict all entries returned to be before the date you specify, which must be of the form yyyy-mm-dd hh:mm:ss.
</p></li></ul></div></p></li><li><p><span class="bold"><b>itemid</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
For a selecttype of one, the journal entry's unique ItemID for which you want to retrieve. Or, to retrieve the most recent entry, use the value -1. Using -1 has the added effect that the data is retrieved from the master database instead of a replicated slave.  Clients with an &quot;Edit last entry&quot; feature might want to send -1, to make sure the data that comes back up is accurate, in case a slave database is a few seconds behind in replication.
</p></li></ul></div></p></li><li><p><span class="bold"><b>lineendings</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
Specifies the type of line-endings you're using. Possible values are unix (0x0A (\n)), pc (0x0D0A (\r\n)), or mac (0x0D (\r) ). The default is not-Mac. Internally, LiveJournal stores all text as Unix-formatted text, and it does the conversion by removing all \r characters. If you're sending a multi-line event on Mac, you have to be sure and send a lineendings value of mac  or your line endings will be removed. PC and Unix clients can ignore this setting, or you can send it. It may be used for something more in the future.
</p></li></ul></div></p></li><li><p><span class="bold"><b>usejournal</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
Journal username that authenticating user has 'usejournal' access in, as given in the 'login' mode.
</p></li></ul></div></p></li></ul></div></p></li></ol></div></div><div class="refsect1"><h2>Return Values</h2><div class="orderedlist"><ol type="1"><li><p><span class="emphasis"><i>[struct]</i></span>(required)
Containing keys:
  <div class="itemizedlist"><ul><li><p><span class="bold"><b>events</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[list]</i></span>(required)
A list of structs for all of the returned events.

  Containing items:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[struct]</i></span>(optional; multiple allowed)
Containing keys:
  <div class="itemizedlist"><ul><li><p><span class="bold"><b>itemid</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
The unique integer ItemID of the item being returned.
</p></li></ul></div></p></li><li><p><span class="bold"><b>eventtime</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
The time the user posted (or said they posted, rather, since users can back-date posts) the item being returned.
</p></li></ul></div></p></li><li><p><span class="bold"><b>security</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
If this variable is not returned, then the security of the post is public, otherwise this value will be private or usemask.
</p></li></ul></div></p></li><li><p><span class="bold"><b>allowmask</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
If security is usemask then this is defined with the 32-bit unsigned int bit-mask of who is allowed to access this post.
</p></li></ul></div></p></li><li><p><span class="bold"><b>subject</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
The subject of the journal entry. This won't be returned if &quot;prefersubjects&quot; is set, instead the subjects will show up as the events.
</p></li></ul></div></p></li><li><p><span class="bold"><b>event</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[scalar]</i></span>(required)
The  event text itself. This value is first truncated if the truncate variable is set, and then it is URL-encoded (alphanumerics stay the same, weird symbols to %hh, and spaces to + signs, just like URLs or post request). This allows posts with line breaks to come back on one line.
</p></li></ul></div></p></li><li><p><span class="bold"><b>props</b></span>:
  <div class="itemizedlist"><ul><li><p><span class="emphasis"><i>[struct]</i></span>(optional; multiple allowed)
Containing keys:
  <div class="itemizedlist"><ul></ul></div></p></li></ul></div></p></li></ul></div></p></li></ul></div></p></li></ul></div></p></li></ul></div></p></li></ol></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ljp.csp.xml-rpc.editfriends.html">Prev</a> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right"> <a accesskey="n" href="ljp.csp.xml-rpc.getfriends.html">Next</a></td></tr><tr><td width="40%" align="left">editfriends </td><td width="20%" align="center"><a accesskey="u" href="ljp.csp.xml-rpc.protocol.html">Up</a></td><td width="40%" align="right"> getfriends</td></tr></table></div></body></html>
